<!DOCTYPE html>
<html>
<head>
    <title>Finalise Game {{ teams[0].name }} vs {{ teams[1].name }}</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/style_game.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/style_editor.css') }}">
    <link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}">
</head>
<body>
<script src="{{ url_for('static', filename='js/endGame.js') }}"></script>
<script>
    setup({{game.id}}, {{ swap }})
</script>
<h1>{{ teams[0].name }} vs {{ teams[1].name }} </h1>
<h1 class="big">{{ teams[0].score }} - {{ teams[1].score }}</h1>
<p><b>Round:</b> <i>{{ game.rounds }}</i></p>
<p><b>Match Official:</b><i>{{ game.primary_official }}</i>
    {% if game.scorer %}
        <p><b>Match Scorer:</b> <i>{{ game.scorer }}</i></p>
    {% endif %}
<p><b>Match Id:</b> <i>{{ game.id }}</i></p>
<br>
<table class="jaredTable">
    <tr>
        <td></td>
        <th colspan="{{ teams[0].players.__len__() }}"><b>{{ teams[0].name }}</b></th>
        <th colspan="{{ teams[1].players.__len__() }}"><b>
            {{ teams[1].name }}</b></th>
        <th class="invisible">Spacerrrrrrr</th>
    </tr>
    {#    {% for stat in stats %}#}
    {#        <tr>#}
    {#            <th>{{ stat[0] }}:</th>#}
    {#            <td colspan="{{ teams[0].all_players.__len__() }}">{{ stat[1] }}</td>#}
    {#            <td colspan="{{ teams[1].all_players.__len__() }}">{{ stat[2] }}</td>#}
    {#        </tr>#}
    {##}
    {##}
    {#    {% endfor %}#}

    <tr>
        <td></td>
        {% for i in teams[0].players + teams[1].players %}
            <th>{{ i.name }}</th>
        {% endfor %}
    </tr>
    {% for stat in headers %}
        <tr>
            <th>{{ stat }}:</th>
            {% for i in teams[0].players + teams[1].players %}
                <td>{{ i.stats[stat] }}</td>
            {% endfor %}
        </tr>
    {% endfor %}
</table>
<br>
<br>
<h2>Do {{ teams[0].name }} wish to protest? <input type="checkbox" id="protest0"></h2>
<input style="display:none;width: 330px;font-size: 20px" type="text" id="protestNotes0" maxlength="30">
<h2>Do {{ teams[1].name }} wish to protest? <input type="checkbox" id="protest1"></h2>
<input style="display:none;width: 330px;font-size: 20px" type="text" id="protestNotes1" maxlength="30">
<h1>Notes</h1>
<textarea style="width: 330px; height: 100px" id="notes"></textarea>
<br>
<br>
<div class="dropdown">

    <button onclick="myFunction(this)" class="button dropbtn" id="rename">Fairest And Best</button>
    <div class="dropdown-content">
        {% for i in teams[0].players + teams[1].players %}
            <p onclick="setBest('{{ i.searchable_name }}', '{{ i.name }}')">{{ i.name }}</p>
        {% endfor %}
    </div>
</div>
<br>
<br>
<button style="background-color: #2a5d88;" class="button" onclick="undo()">Undo</button>

<button onclick="finish()" class="button">Finish</button>

<br>
</body>
</html>